<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Happstack.Server.Routing</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Happstack-Server-Routing.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">happstack-server-7.3.1: Web related tools and services.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Happstack.Server.Routing</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Route by scheme
</a></li><li><a href="#g:2">Route by request method
</a></li><li><a href="#g:3">Route by pathInfo
</a></li><li><a href="#g:4">Route by host
</a></li><li><a href="#g:5">Route by (Request -&gt; Bool)
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Route an incoming <code><a href="Happstack-Server-Internal-Types.html#t:Request">Request</a></code> to a handler. For more in-depth documentation see this section of the Happstack Crash Course: <a href="http://happstack.com/docs/crashcourse/RouteFilters.html">http://happstack.com/docs/crashcourse/RouteFilters.html</a>
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:http">http</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</li><li class="src short"><a href="#v:https">https</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</li><li class="src short"><a href="#v:methodM">methodM</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</li><li class="src short"><a href="#v:methodOnly">methodOnly</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</li><li class="src short"><a href="#v:methodSP">methodSP</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m b -&gt; m b</li><li class="src short"><a href="#v:method">method</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</li><li class="src short"><span class="keyword">class</span>  <a href="#t:MatchMethod">MatchMethod</a> m  <span class="keyword">where</span><ul class="subs"><li><a href="#v:matchMethod">matchMethod</a> :: m -&gt; <a href="Happstack-Server-Internal-Types.html#t:Method">Method</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></li></ul></li><li class="src short"><a href="#v:dir">dir</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:dirs">dirs</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:nullDir">nullDir</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</li><li class="src short"><a href="#v:trailingSlash">trailingSlash</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</li><li class="src short"><a href="#v:noTrailingSlash">noTrailingSlash</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</li><li class="src short"><a href="#v:anyPath">anyPath</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m r -&gt; m r</li><li class="src short"><a href="#v:path">path</a> :: (<a href="Happstack-Server-Internal-Types.html#t:FromReqURI">FromReqURI</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m) =&gt; (a -&gt; m b) -&gt; m b</li><li class="src short"><a href="#v:uriRest">uriRest</a> :: <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m =&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:host">host</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a -&gt; m a</li><li class="src short"><a href="#v:withHost">withHost</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:guardRq">guardRq</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; (<a href="Happstack-Server-Internal-Types.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; m ()</li></ul></div><div id="interface"><h1 id="g:1">Route by scheme
</h1><div class="top"><p class="src"><a name="v:http" class="def">http</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</p><div class="doc"><p>guard which checks that an insecure connection was made via http://
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler =
     do https
        ...
</pre></div></div><div class="top"><p class="src"><a name="v:https" class="def">https</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</p><div class="doc"><p>guard which checks that a secure connection was made via https://
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler =
     do https
        ...
</pre></div></div><h1 id="g:2">Route by request method
</h1><div class="top"><p class="src"><a name="v:methodM" class="def">methodM</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</p><div class="doc"><p>Guard against the method. This function also guards against
 *any remaining path segments*. See <code><a href="Happstack-Server-Routing.html#v:method">method</a></code> for the version
 that guards only by method.
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler =
     do methodM [GET, HEAD]
        ...
</pre><p>NOTE: This function is largely retained for backwards
 compatibility. The fact that implicitly calls <code><a href="Happstack-Server-Routing.html#v:nullDir">nullDir</a></code> is often
 forgotten and leads to confusion. It is probably better to just use
 <code><a href="Happstack-Server-Routing.html#v:method">method</a></code> and call <code><a href="Happstack-Server-Routing.html#v:nullDir">nullDir</a></code> explicitly.
</p><p>This function will likely be deprecated in the future.
</p></div></div><div class="top"><p class="src"><a name="v:methodOnly" class="def">methodOnly</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</p><div class="doc"><div class="warning"><p>Deprecated: this function is just an alias for method now
</p></div><p>Guard against the method only (as opposed to <code><a href="Happstack-Server-Routing.html#v:methodM">methodM</a></code>).
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler =
     do methodOnly [GET, HEAD]
        ...
</pre></div></div><div class="top"><p class="src"><a name="v:methodSP" class="def">methodSP</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m b -&gt; m b</p><div class="doc"><div class="warning"><p>Deprecated: use method instead.
</p></div><p>Guard against the method. Note, this function also guards against
 any remaining path segments. Similar to <code><a href="Happstack-Server-Routing.html#v:methodM">methodM</a></code> but with a different type signature.
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler = methodSP [GET, HEAD] $ subHandler
</pre><p>NOTE: This style of combinator is going to be deprecated in the
 future. It is better to just use <code><a href="Happstack-Server-Routing.html#v:method">method</a></code>.
</p><pre> handler :: ServerPart Response
 handler = method [GET, HEAD] &gt;&gt; nullDir &gt;&gt; subHandler
</pre></div></div><div class="top"><p class="src"><a name="v:method" class="def">method</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> method) =&gt; method -&gt; m ()</p><div class="doc"><p>Guard against the method only (as opposed to <code><a href="Happstack-Server-Routing.html#v:methodM">methodM</a></code>).
</p><p>Example:
</p><pre> handler :: ServerPart Response
 handler =
     do methodOnly [GET, HEAD]
        ...
</pre></div></div><div class="top"><p class="src"><span class="keyword">class</span>  <a name="t:MatchMethod" class="def">MatchMethod</a> m  <span class="keyword">where</span></p><div class="doc"><p>instances of this class provide a variety of ways to match on the <code><a href="Happstack-Server-Internal-Types.html#t:Request">Request</a></code> method.
</p><p>Examples:
</p><pre> method GET                  -- match GET or HEAD
 method [GET, POST]          -- match GET, HEAD or POST
 method HEAD                 -- match HEAD /but not/ GET
 method (== GET)             -- match GET or HEAD
 method (not . (==) DELETE)  -- match any method except DELETE
 method ()                   -- match any method
</pre><p>As you can see, GET implies that HEAD should match as well.  This is to
 make it harder to write an application that uses HTTP incorrectly.
 Happstack handles HEAD requests automatically, but we still need to make
 sure our handlers don't mismatch or a HEAD will result in a 404.
</p><p>If you must, you can still do something like this
 to match GET without HEAD:
</p><pre> guardRq ((== GET) . rqMethod)
</pre></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:matchMethod" class="def">matchMethod</a> :: m -&gt; <a href="Happstack-Server-Internal-Types.html#t:Method">Method</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a></p></div><div class="subs instances"><p id="control.i:MatchMethod" class="caption collapser" onclick="toggleSection('i:MatchMethod')">Instances</p><div id="section.i:MatchMethod" class="show"><table><tr><td class="src"><a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> ()</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> <a href="Happstack-Server-Internal-Types.html#t:Method">Method</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> [<a href="Happstack-Server-Internal-Types.html#t:Method">Method</a>]</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Happstack-Server-Routing.html#t:MatchMethod">MatchMethod</a> (<a href="Happstack-Server-Internal-Types.html#t:Method">Method</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:3">Route by pathInfo
</h1><div class="top"><p class="src"><a name="v:dir" class="def">dir</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a -&gt; m a</p><div class="doc"><p>Pop a path element and run the supplied handler if it matches the
 given string.
</p><pre> handler :: ServerPart Response
 handler = dir &quot;foo&quot; $ dir &quot;bar&quot; $ subHandler
</pre><p>The path element can not contain '/'. See also <code><a href="Happstack-Server-Routing.html#v:dirs">dirs</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:dirs" class="def">dirs</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m a -&gt; m a</p><div class="doc"><p>Guard against a <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></code>. Unlike <code><a href="Happstack-Server-Routing.html#v:dir">dir</a></code> the <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></code> may
 contain '/'. If the guard succeeds, the matched elements will be
 popped from the directory stack.
</p><pre> dirs &quot;foo/bar&quot; $ ...
</pre><p>See also: <code><a href="Happstack-Server-Routing.html#v:dir">dir</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:nullDir" class="def">nullDir</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</p><div class="doc"><p>guard which only succeeds if there are no remaining path segments
</p><p>Often used if you want to explicitly assign a route for <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#v:-47-">/</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:trailingSlash" class="def">trailingSlash</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</p><div class="doc"><p>Guard which checks that the Request URI ends in <code>'/'</code>.  Useful
 for distinguishing between <code>foo</code> and <code>foo/</code>
</p></div></div><div class="top"><p class="src"><a name="v:noTrailingSlash" class="def">noTrailingSlash</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m ()</p><div class="doc"><p>The opposite of <code><a href="Happstack-Server-Routing.html#v:trailingSlash">trailingSlash</a></code>.
</p></div></div><div class="top"><p class="src"><a name="v:anyPath" class="def">anyPath</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; m r -&gt; m r</p><div class="doc"><p>Pop any path element and run the handler.
</p><p>Succeeds if a path component was popped. Fails is the remaining path was empty.
</p></div></div><div class="top"><p class="src"><a name="v:path" class="def">path</a> :: (<a href="Happstack-Server-Internal-Types.html#t:FromReqURI">FromReqURI</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m) =&gt; (a -&gt; m b) -&gt; m b</p><div class="doc"><p>Pop a path element and parse it using the <code><a href="Happstack-Server-Internal-Types.html#v:fromReqURI">fromReqURI</a></code> in the
 <code><a href="Happstack-Server-Internal-Types.html#t:FromReqURI">FromReqURI</a></code> class.
</p></div></div><div class="top"><p class="src"><a name="v:uriRest" class="def">uriRest</a> :: <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m =&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a) -&gt; m a</p><div class="doc"><p>Grab the rest of the URL (dirs + query) and passes it to your
 handler.
</p></div></div><h1 id="g:4">Route by host
</h1><div class="top"><p class="src"><a name="v:host" class="def">host</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a -&gt; m a</p><div class="doc"><p>Guard against the host.
</p><p>This matches against the <code>host</code> header specified in the incoming <code><a href="Happstack-Server-Internal-Types.html#t:Request">Request</a></code>.
</p><p>Can be used to support virtual hosting, <a href="http://en.wikipedia.org/wiki/Virtual_hosting">http://en.wikipedia.org/wiki/Virtual_hosting</a>
</p><p>Note that this matches against the value of the <code>Host</code> header which may include the port number.
</p><p><a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.23</a>
</p><p>see also: <code><a href="Happstack-Server-Routing.html#v:withHost">withHost</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:withHost" class="def">withHost</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; m a) -&gt; m a</p><div class="doc"><p>Lookup the <code>host</code> header in the incoming request and pass it to the handler.
</p><p>see also: <code><a href="Happstack-Server-Routing.html#v:host">host</a></code>
</p></div></div><h1 id="g:5">Route by (Request -&gt; Bool)
</h1><div class="top"><p class="src"><a name="v:guardRq" class="def">guardRq</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; (<a href="Happstack-Server-Internal-Types.html#t:Request">Request</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; m ()</p><div class="doc"><p>Guard using an arbitrary function on the <code><a href="Happstack-Server-Internal-Types.html#t:Request">Request</a></code>.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>