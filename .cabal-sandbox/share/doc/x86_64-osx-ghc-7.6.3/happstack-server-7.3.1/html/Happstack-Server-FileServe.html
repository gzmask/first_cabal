<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Happstack.Server.FileServe</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Happstack-Server-FileServe.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">happstack-server-7.3.1: Web related tools and services.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Happstack.Server.FileServe</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Serving Functions 
</a></li><li><a href="#g:2">Content-Type / Mime-Type
</a></li><li><a href="#g:3">Index Files
</a></li><li><a href="#g:4">Deprecated
</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>functions for serving static files from the disk
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span>  <a href="#t:Browsing">Browsing</a> <ul class="subs"><li>= <a href="#v:EnableBrowsing">EnableBrowsing</a>  </li><li>| <a href="#v:DisableBrowsing">DisableBrowsing</a>  </li></ul></li><li class="src short"><a href="#v:serveDirectory">serveDirectory</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:WebMonad">WebMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a> -&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></li><li class="src short"><a href="#v:serveFile">serveFile</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></li><li class="src short"><a href="#v:serveFileFrom">serveFileFrom</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>) -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:MimeMap">MimeMap</a> = <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Map-Lazy.html#t:Map">Map</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:mimeTypes">mimeTypes</a> :: <a href="Happstack-Server-FileServe.html#t:MimeMap">MimeMap</a></li><li class="src short"><a href="#v:asContentType">asContentType</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:guessContentTypeM">guessContentTypeM</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Happstack-Server-FileServe.html#t:MimeMap">MimeMap</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:defaultIxFiles">defaultIxFiles</a> :: [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>]</li><li class="src short"><a href="#v:fileServe">fileServe</a> :: (<a href="Happstack-Server-Internal-Monads.html#t:WebMonad">WebMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m) =&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>] -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></li></ul></div><div id="interface"><h1 id="g:1">Serving Functions 
</h1><div class="top"><p class="src"><span class="keyword">data</span>  <a name="t:Browsing" class="def">Browsing</a>  </p><div class="doc"><p>see <code><a href="Happstack-Server-FileServe.html#v:serveDirectory">serveDirectory</a></code>
</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:EnableBrowsing" class="def">EnableBrowsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:DisableBrowsing" class="def">DisableBrowsing</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Browsing" class="caption collapser" onclick="toggleSection('i:Browsing')">Instances</p><div id="section.i:Browsing" class="show"><table><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Prelude.html#t:Enum">Enum</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Eq.html#t:Eq">Eq</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Data.html#t:Data">Data</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Ord.html#t:Ord">Ord</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Read.html#t:Read">Read</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Text-Show.html#t:Show">Show</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:serveDirectory" class="def">serveDirectory</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Happstack-Server-Internal-Monads.html#t:WebMonad">WebMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Happstack-Server-FileServe.html#t:Browsing">Browsing</a></td><td class="doc"><p>allow directory browsing
</p></td></tr><tr><td class="src">-&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>]</td><td class="doc"><p>index file names, in case the requested path is a directory
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>file/directory to serve
</p></td></tr><tr><td class="src">-&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Serve files and directories from a directory and its subdirectories using <code>sendFile</code>.
</p><p>Usage:
</p><pre> serveDirectory EnableBrowsing [&quot;index.html&quot;] &quot;path/to/files/on/disk&quot;
</pre><p>If the requested path does not match a file or directory on the
 disk, then <code><a href="Happstack-Server-FileServe.html#v:serveDirectory">serveDirectory</a></code> calls <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#v:mzero">mzero</a></code>.
</p><p>If the requested path is a file then the file is served normally.
</p><p>If the requested path is a directory, then the result depends on
 what the first two arguments to the function are.
</p><p>The first argument controls whether directory browsing is
 enabled.
</p><p>The second argument is a list of index files (such as
 index.html).
</p><p>When a directory is requested, <code><a href="Happstack-Server-FileServe.html#v:serveDirectory">serveDirectory</a></code> will first try to
 find one of the index files (in the order they are listed). If that
 fails, it will show a directory listing if <code><a href="Happstack-Server-FileServe.html#v:EnableBrowsing">EnableBrowsing</a></code> is set,
 otherwise it will return <code>forbidden &quot;Directory index forbidden&quot;</code>.
</p><p>Here is an explicit list of all the possible outcomes when the
 argument is a (valid) directory:
</p><dl><dt><code><code><a href="Happstack-Server-FileServe.html#v:DisableBrowsing">DisableBrowsing</a></code>, empty index file list</code></dt><dd>
</dd></dl><p>This will always return, forbidden &quot;Directory index forbidden&quot;
</p><dl><dt><code><code><a href="Happstack-Server-FileServe.html#v:DisableBrowsing">DisableBrowsing</a></code>, non-empty index file list</code></dt><dd>
</dd></dl><ol><li> If an index file is found it will be shown.
</li><li> Otherwise returns, forbidden &quot;Directory index forbidden&quot;
</li></ol><dl><dt><code><code><a href="Happstack-Server-FileServe.html#v:EnableBrowsing">EnableBrowsing</a></code>, empty index file list</code></dt><dd>
</dd></dl><p>Always shows a directory index.
</p><dl><dt><code><code><a href="Happstack-Server-FileServe.html#v:EnableBrowsing">EnableBrowsing</a></code>, non-empty index file list</code></dt><dd>
</dd></dl><ol><li> If an index file is found it will be shown
</li><li> Otherwise shows a directory index
</li></ol><p>see also: <code><a href="Happstack-Server-FileServe.html#v:defaultIxFiles">defaultIxFiles</a></code>, <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:serveFile" class="def">serveFile</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>function for determining content-type of file. Typically <code><a href="Happstack-Server-FileServe.html#v:asContentType">asContentType</a></code> or <code><a href="Happstack-Server-FileServe.html#v:guessContentTypeM">guessContentTypeM</a></code>
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>path to the file to serve
</p></td></tr><tr><td class="src">-&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Serve a single, specified file. The name of the file being served is specified explicity. It is not derived automatically from the <code><a href="Happstack-Server-Internal-Types.html#t:Request">Request</a></code> url.
</p><p>example 1:
</p><p>Serve as a specific content-type:
</p><pre> serveFile (asContentType &quot;image/jpeg&quot;) &quot;/srv/data/image.jpg&quot;
</pre><p>example 2:
</p><p>Serve guessing the content-type from the extension:
</p><pre> serveFile (guessContentTypeM mimeTypes) &quot;/srv/data/image.jpg&quot;
</pre><p>If the specified path does not exist or is not a file, this function will return <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#v:mzero">mzero</a></code>.
</p><p>WARNING: No security checks are performed.
</p><p>NOTE: alias for <code><a href="Happstack-Server-FileServe-BuildingBlocks.html#v:serveFileUsing">serveFileUsing</a></code> <code><a href="Happstack-Server-FileServe-BuildingBlocks.html#v:filePathSendFile">filePathSendFile</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:serveFileFrom" class="def">serveFileFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>directory wherein served files must be contained
</p></td></tr><tr><td class="src">-&gt; (<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>function for determining content-type of file. Typically <code><a href="Happstack-Server-FileServe.html#v:asContentType">asContentType</a></code> or <code><a href="Happstack-Server-FileServe.html#v:guessContentTypeM">guessContentTypeM</a></code>
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>path to the file to serve
</p></td></tr><tr><td class="src">-&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code>, but uses <code><a href="Happstack-Server-FileServe-BuildingBlocks.html#v:combineSafe">combineSafe</a></code> to prevent directory
 traversal attacks when the path to the file is supplied by the user.
</p></div></div><h1 id="g:2">Content-Type / Mime-Type
</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:MimeMap" class="def">MimeMap</a> = <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Map-Lazy.html#t:Map">Map</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></p><div class="doc"><p>a <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/containers-0.5.0.0/Data-Map-Lazy.html#t:Map">Map</a></code> from file extensions to content-types
</p><p>example:
</p><pre> myMimeMap :: MimeMap
 myMimeMap = Map.fromList [(&quot;gz&quot;,&quot;application/x-gzip&quot;), ... ]
</pre><p>see also: <code><a href="Happstack-Server-FileServe.html#v:mimeTypes">mimeTypes</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:mimeTypes" class="def">mimeTypes</a> :: <a href="Happstack-Server-FileServe.html#t:MimeMap">MimeMap</a></p><div class="doc"><p>Ready collection of common mime types.
 Except for the first two entries, the mappings come from an Ubuntu 8.04 /etc/mime.types file.
</p></div></div><div class="top"><p class="src"><a name="v:asContentType" class="def">asContentType</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p>the content-type to return
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>returns a specific content type, completely ignoring the <code><a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></code> argument.
</p><p>Use this with <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code> if you want to explicitly specify the
 content-type.
</p><p>see also: <code><a href="Happstack-Server-FileServe.html#v:guessContentTypeM">guessContentTypeM</a></code>, <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code>
</p></div></div><div class="top"><p class="src"><a name="v:guessContentTypeM" class="def">guessContentTypeM</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Happstack-Server-FileServe.html#t:MimeMap">MimeMap</a> -&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; m <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Data-String.html#t:String">String</a></p><div class="doc"><p>try to guess the content-type of a file based on its extension
</p><p>defaults to <a href="application/octet-stream.html">application/octet-stream</a> if no match was found.
</p><p>Useful as an argument to <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code>
</p><p>see also: <code><a href="Happstack-Server-FileServe-BuildingBlocks.html#v:guessContentType">guessContentType</a></code>, <code><a href="Happstack-Server-FileServe.html#v:serveFile">serveFile</a></code>
</p></div></div><h1 id="g:3">Index Files
</h1><div class="top"><p class="src"><a name="v:defaultIxFiles" class="def">defaultIxFiles</a> :: [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>]</p><div class="doc"><p>a list of common index files. Specifically: <code>index.html</code>, <code>index.xml</code>, <code>index.gif</code>
</p><p>Typically used as an argument to <code>serveDiretory</code>.
</p></div></div><h1 id="g:4">Deprecated
</h1><div class="top"><p class="src"><a name="v:fileServe" class="def">fileServe</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="Happstack-Server-Internal-Monads.html#t:WebMonad">WebMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="Happstack-Server-Internal-Monads.html#t:ServerMonad">ServerMonad</a> m, <a href="Happstack-Server-Internal-Monads.html#t:FilterMonad">FilterMonad</a> <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a> m, <a href="file:///Library/Haskell/ghc-7.6.3/lib/transformers-0.3.0.0/doc/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m, <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/Control-Monad.html#t:MonadPlus">MonadPlus</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a>]</td><td class="doc"><p>index file names, in case the requested path is a directory
</p></td></tr><tr><td class="src">-&gt; <a href="file:///Library/Frameworks/GHC.framework/Versions/7.6.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.6.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>file/directory to serve
</p></td></tr><tr><td class="src">-&gt; m <a href="Happstack-Server-Internal-Types.html#t:Response">Response</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><div class="warning"><p>Deprecated: use serveDirectory instead.
</p></div><p>Serve files from a directory and its subdirectories using <code>sendFile</code>.
</p><p>Usage:
</p><pre> fileServe [&quot;index.html&quot;] &quot;path/to/files/on/disk&quot;
</pre><p><code><a href="Happstack-Server-FileServe.html#v:fileServe">fileServe</a></code> does not support directory browsing. See <code><a href="Happstack-Server-FileServe.html#v:serveDirectory">serveDirectory</a></code>
</p><p>DEPRECATED: use <code><a href="Happstack-Server-FileServe.html#v:serveDirectory">serveDirectory</a></code> instead.
</p><p>Note:
</p><p>The list of index files <code>[&quot;index.html&quot;]</code> is only used to determine what file to show if the user requests a directory. You *do not* need to explicitly list all the files you want to serve.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.13.2</p></div></body></html>